class e{constructor(e,t,n,a,l){this.code=e,this.fullname=t,this.address=n,this.email=a,this.type=l}}class t extends e{constructor(e,t,n,a,l,s,d,o){super(e,t,n,a,o),this.math=+l,this.physical=+s,this.chemistry=+d}calcMedium(){return(this.math+this.physical+this.chemistry)/3}}class n extends e{constructor(e,t,n,a,l,s,d){super(e,t,n,a,d),this.workingday=+l,this.dailywage=+s}calcSalary(){return this.workingday*this.dailywage}}class a extends e{constructor(e,t,n,a,l,s,d,o){super(e,t,n,a,o),this.companyname=l,this.totalinvoice=+s,this.rank=d}}function l(e){return document.querySelector(e)}function s(e,t){localStorage.setItem(e,JSON.stringify(t))}function d(e,t){return t.findIndex((t=>t.code===e))}function o(e,t){return t.filter((t=>{let n=t.fullname.toLowerCase();return e=e.toLowerCase(),-1!==n.indexOf(e)}))}let r;function u(e){return r=e.sort(((e,t)=>{const n=e.fullname.toLowerCase(),a=t.fullname.toLowerCase();return n<a?-1:n>a?1:0})),r}function i(e){return r=e.sort(((e,t)=>{const n=e.fullname.toLowerCase(),a=t.fullname.toLowerCase();return n>a?-1:n<a?1:0})),r}function c(e){let t=e.reduce(((e,t,n)=>e+`\n            <tr>\n                <td>${n+1}</td>\n                <td>${t.fullname}</td>\n                <td>${t.address}</td>\n                <td>${t.code}</td>\n                <td>${t.email}</td>\n                <td>${t.math}</td>\n                <td>${t.physical}</td>\n                <td>${t.chemistry}</td>\n                <td>${t.calcMedium().toFixed(2)}</td>\n                <td>\n                    <button class="btn btn-primary" data-toggle="modal"\n                    data-target="#StudentModal" data-id="${t.code}">Update</button>\n                    <button class="btn btn-danger" data-id="${t.code}">Delete</button>\n                </td>\n            </tr>\n            `),"");l("#tblStudentList").innerHTML=t}function m(e){let t=e.reduce(((e,t,n)=>e+`\n            <tr>\n                <td>${n+1}</td>\n                <td>${t.fullname}</td>\n                <td>${t.address}</td>\n                <td>${t.code}</td>\n                <td>${t.email}</td>\n                <td>${t.workingday.toLocaleString()}</td>\n                <td>${t.dailywage.toLocaleString()}</td>\n                <td>${t.calcSalary().toLocaleString()}</td>\n                <td>\n                    <button class="btn btn-primary" data-toggle="modal"\n                    data-target="#EmployeeModal" data-id="${t.code}">Update</button>\n                    <button class="btn btn-danger" data-id="${t.code}">Delete</button>\n                </td>\n            </tr>\n            `),"");l("#tblEmployeeList").innerHTML=t}function y(e){let t=e.reduce(((e,t,n)=>e+`\n            <tr>\n                <td>${n+1}</td>\n                <td>${t.fullname}</td>\n                <td>${t.address}</td>\n                <td>${t.code}</td>\n                <td>${t.email}</td>\n                <td>${t.companyname}</td>\n                <td>${t.totalinvoice.toLocaleString()}</td>\n                <td>${t.rank}</td>\n                <td>\n                    <button class="btn btn-primary" data-toggle="modal"\n                    data-target="#CustomerModal" data-id="${t.code}">Update</button>\n                    <button class="btn btn-danger" data-id="${t.code}">Delete</button>\n                </td>\n            </tr>\n            `),"");l("#tblCustomerList").innerHTML=t}function b(e){let t=e.reduce(((e,t,n)=>e+`\n            <tr>\n                <td>${n+1}</td>\n                <td>${t.fullname}</td>\n                <td>${t.address}</td>\n                <td>${t.code}</td>\n                <td>${t.email}</td>\n                <td>${t.type}</td>\n            </tr>\n            `),"");l("#tblListPersons").innerHTML=t}let p=/^[A-Za-z0-9]+$/,C=/^[0-9]/;function v(e){let t=!1;return t=!l(e).value,t}function g(e){let t=!1,n=l(e).value;return t=!!J.some((e=>e.code===n)),t}function h(e){let t=!0;return v("#CodeStudent")?(t=!1,l("#tbCodeStudent").style.display="block",l("#tbCodeStudent").innerHTML="not Empty!"):g("#CodeStudent")&&"Update"!==e?(t=!1,l("#tbCodeStudent").style.display="block",l("#tbCodeStudent").innerHTML="already exists!"):!l("#CodeStudent").value.match(p)||l("#CodeStudent").value.length<4||l("#CodeStudent").value.length>6?(t=!1,l("#tbCodeStudent").style.display="block",l("#tbCodeStudent").innerHTML="from 4-6 characters and no special characters!"):l("#tbCodeStudent").style.display="none",v("#FullNameStudent")?(t=!1,l("#tbFullNameStudent").style.display="block",l("#tbFullNameStudent").innerHTML="not Empty!"):l("#tbFullNameStudent").style.display="none",v("#AddressStudent")?(t=!1,l("#tbAddressStudent").style.display="block",l("#tbAddressStudent").innerHTML="not Empty!"):l("#tbAddressStudent").style.display="none",v("#Math")?(t=!1,l("#tbMath").style.display="block",l("#tbMath").innerHTML="not Empty!"):!l("#Math").value.match(C)||l("#Math").value<0||l("#Math").value>10?(t=!1,l("#tbMath").style.display="block",l("#tbMath").innerHTML="score is Number from 0-10"):l("#tbMath").style.display="none",v("#Physical")?(t=!1,l("#tbPhysical").style.display="block",l("#tbPhysical").innerHTML="not Empty!"):!l("#Physical").value.match(C)||l("#Physical").value<0||l("#Physical").value>10?(t=!1,l("#tbPhysical").style.display="block",l("#tbPhysical").innerHTML="score is Number from 0-10"):l("#tbPhysical").style.display="none",v("#Chemistry")?(t=!1,l("#tbChemistry").style.display="block",l("#tbChemistry").innerHTML="not Empty!"):!l("#Chemistry").value.match(C)||l("#Chemistry").value<0||l("#Chemistry").value>10?(t=!1,l("#tbChemistry").style.display="block",l("#tbChemistry").innerHTML="score is Number from 0-10"):l("#tbChemistry").style.display="none",t}function L(e){let t=!0;return v("#CodeEmployee")?(t=!1,l("#tbCodeEmployee").style.display="block",l("#tbCodeEmployee").innerHTML="not Empty!"):g("#CodeEmployee")&&"Update"!==e?(t=!1,l("#tbCodeEmployee").style.display="block",l("#tbCodeEmployee").innerHTML="already exists!"):!l("#CodeEmployee").value.match(p)||l("#CodeEmployee").value.length<4||l("#CodeEmployee").value.length>6?(t=!1,l("#tbCodeEmployee").style.display="block",l("#tbCodeEmployee").innerHTML="from 4-6 characters and no special characters!"):l("#tbCodeEmployee").style.display="none",v("#FullNameEmployee")?(t=!1,l("#tbFullNameEmployee").style.display="block",l("#tbFullNameEmployee").innerHTML="not Empty!"):l("#tbFullNameEmployee").style.display="none",v("#AddressEmployee")?(t=!1,l("#tbAddressEmployee").style.display="block",l("#tbAddressEmployee").innerHTML="not Empty!"):l("#tbAddressEmployee").style.display="none",v("#Workingday")?(t=!1,l("#tbWorkingday").style.display="block",l("#tbWorkingday").innerHTML="not Empty!"):!l("#Workingday").value.match(C)||l("#Workingday").value<0?(t=!1,l("#tbWorkingday").style.display="block",l("#tbWorkingday").innerHTML="is Number"):l("#tbWorkingday").style.display="none",v("#Dailywage")?(t=!1,l("#tbDailywage").style.display="block",l("#tbDailywage").innerHTML="not Empty!"):!l("#Dailywage").value.match(C)||l("#Dailywage").value<0?(t=!1,l("#tbDailywage").style.display="block",l("#tbDailywage").innerHTML="is Number"):l("#tbDailywage").style.display="none",t}function f(e){let t=!0;return v("#CodeCustomer")?(t=!1,l("#tbCodeCustomer").style.display="block",l("#tbCodeCustomer").innerHTML="not Empty!"):g("#CodeCustomer")&&"Update"!==e?(t=!1,l("#tbCodeCustomer").style.display="block",l("#tbCodeCustomer").innerHTML="already exists!",console.log()):!l("#CodeCustomer").value.match(p)||l("#CodeCustomer").value.length<4||l("#CodeCustomer").value.length>6?(t=!1,l("#tbCodeCustomer").style.display="block",l("#tbCodeCustomer").innerHTML="from 4-6 characters and no special characters!"):l("#tbCodeCustomer").style.display="none",v("#FullNameCustomer")?(t=!1,l("#tbFullNameCustomer").style.display="block",l("#tbFullNameCustomer").innerHTML="not Empty!"):l("#tbFullNameCustomer").style.display="none",v("#AddressCustomer")?(t=!1,l("#tbAddressCustomer").style.display="block",l("#tbAddressCustomer").innerHTML="not Empty!"):l("#tbAddressCustomer").style.display="none",v("#Companyname")?(t=!1,l("#tbCompanyname").style.display="block",l("#tbCompanyname").innerHTML="not Empty!"):l("#tbCompanyname").style.display="none",t}function E(){let n=l("#CodeStudent").value,a=l("#FullNameStudent").value,d=l("#AddressStudent").value,o=l("#EmailStudent").value,r=l("#Math").value,u=l("#Physical").value,i=l("#Chemistry").value,c="Student";if(!h())return;const m=new t(n,a,d,o,r,u,i,c),y=new e(n,a,d,o,c);J.push(y),W.push(m),s("studentList",W),s("listPersons",J),alert(`Successful created new Student :${a}`),T()}function S(e){let t=d(e,W);W.splice(t,1),J.splice(d(e,J),1),s("studentList",W),s("listPersons",J),alert(`Successful delete Student :${W[t].fullname}`)}function M(e){const t=d(e,W);l("#CodeStudent").value=W[t].code,l("#FullNameStudent").value=W[t].fullname,l("#AddressStudent").value=W[t].address,l("#EmailStudent").value=W[t].email,l("#Math").value=W[t].math,l("#Physical").value=W[t].physical,l("#Chemistry").value=W[t].chemistry;l(".modal-footer-Student").innerHTML='\n        <button class="btn btn-secondary" data-dismiss="modal" id="cancle" >Cancle</button>\n        <button class="btn btn-success ml-2" id="updateStudent" >Update</button>\n    '}function k(){let n=l("#CodeStudent").value,a=l("#FullNameStudent").value,o=l("#AddressStudent").value,r=l("#EmailStudent").value,u=l("#Math").value,i=l("#Physical").value,c=l("#Chemistry").value,m="Student";if(!h("Update"))return;const y=new t(n,a,o,r,u,i,c,m),b=new e(n,a,o,r,m);W[d(n,W)]=y,J[d(n,J)]=b,s("studentList",W),s("listPersons",J),alert(`Successful update Student :${a}`),T()}function T(){l("#CodeStudent").value="",l("#FullNameStudent").value="",l("#AddressStudent").value="",l("#EmailStudent").value="",l("#Math").value="",l("#Physical").value="",l("#Chemistry").value=""}function w(){let t=l("#CodeEmployee").value,a=l("#FullNameEmployee").value,d=l("#AddressEmployee").value,o=l("#EmailEmployee").value,r=l("#Workingday").value,u=l("#Dailywage").value,i="Employee";if(!L())return;const c=new n(t,a,d,o,r,u,i),m=new e(t,a,d,o,i);J.push(m),I.push(c),s("employeeList",I),s("listPersons",J),alert(`Successful created new Employee :${a}`),H()}function H(){l("#CodeEmployee").value="",l("#FullNameEmployee").value="",l("#AddressEmployee").value="",l("#EmailEmployee").value="",l("#Workingday").value="",l("#Dailywage").value=""}function $(e){let t=d(e,I);I.splice(t,1),J.splice(d(e,J),1),s("employeeList",I),s("listPersons",J),alert(`Successful delete Employee :${I[t].fullname}`)}function A(e){const t=d(e,I);l("#CodeEmployee").value=I[t].code,l("#FullNameEmployee").value=I[t].fullname,l("#AddressEmployee").value=I[t].address,l("#EmailEmployee").value=I[t].email,l("#Workingday").value=I[t].workingday,l("#Dailywage").value=I[t].dailywage;l(".modal-footer-Employee").innerHTML='\n        <button class="btn btn-secondary" data-dismiss="modal" id="cancle" >Cancle</button>\n        <button class="btn btn-success ml-2" id="updateEmployee" >Update</button>\n    '}function N(){let t=l("#CodeEmployee").value,a=l("#FullNameEmployee").value,o=l("#AddressEmployee").value,r=l("#EmailEmployee").value,u=l("#Workingday").value,i=l("#Dailywage").value,c="Employee";if(!L("Update"))return;const m=new n(t,a,o,r,u,i,c),y=new e(t,a,o,r,c);I[d(t,I)]=m,J[d(t,J)]=y,s("employeeList",I),s("listPersons",J),alert(`Successful update Employee :${a}`),H()}function P(){console.log("đã add cus");let t=l("#CodeCustomer").value,n=l("#FullNameCustomer").value,d=l("#AddressCustomer").value,o=l("#EmailCustomer").value,r=l("#Companyname").value,u=l("#Totalinvoice").value,i=l("#Rank").value,c="Customer";if(!f())return;console.log("đã chcek vali");const m=new a(t,n,d,o,r,u,i,c),y=new e(t,n,d,o,c);J.push(y),O.push(m),s("listPersons",J),s("customerList",O),alert(`Successful created new Customer :${n}`),x()}function F(e){let t=d(e,O);O.splice(t,1),J.splice(d(e,J),1),s("listPersons",J),s("customerList",O),alert(`Successful delete Customer :${O[t].fullname}`)}function D(e){const t=d(e,O);l("#CodeCustomer").value=O[t].code,l("#FullNameCustomer").value=O[t].fullname,l("#AddressCustomer").value=O[t].address,l("#EmailCustomer").value=O[t].email,l("#Companyname").value=O[t].companyname,l("#Totalinvoice").value=O[t].totalinvoice,l("#Rank").value=O[t].rank;l(".modal-footer-Customer").innerHTML='\n        <button class="btn btn-secondary" data-dismiss="modal" id="cancle" >Cancle</button>\n        <button class="btn btn-success ml-2" id="updateCustomer" >Update</button>\n    '}function U(){let t=l("#CodeCustomer").value,n=l("#FullNameCustomer").value,o=l("#AddressCustomer").value,r=l("#EmailCustomer").value,u=l("#Companyname").value,i=l("#Totalinvoice").value,c=l("#Rank").value,m="Customer";if(l("#CodeStudent").disabled=!0,!f("Update"))return;const y=new a(t,n,o,r,u,i,c,m),b=new e(t,n,o,r,m);O[d(t,O)]=y,J[d(t,J)]=b,s("customerList",O),s("listPersons",J),alert(`Successful update Customer :${n}`),x()}function x(){l("#CodeCustomer").value="",l("#FullNameCustomer").value="",l("#AddressCustomer").value="",l("#EmailCustomer").value="",l("#Companyname").value="",l("#Totalinvoice").value="",l("#Rank").value=""}let W=function(e){const n=localStorage.getItem(e);if(!n)return[];const a=JSON.parse(n);for(let e=0;e<a.length;e++){const n=a[e];a[e]=new t(n.code,n.fullname,n.address,n.email,+n.math,+n.physical,+n.chemistry,n.type)}return a}("studentList"),I=function(e){const t=localStorage.getItem(e);if(!t)return[];const a=JSON.parse(t);for(let e=0;e<a.length;e++){const t=a[e];a[e]=new n(t.code,t.fullname,t.address,t.email,+t.workingday,+t.dailywage,t.type)}return a}("employeeList"),O=function(e){const t=localStorage.getItem(e);if(!t)return[];const n=JSON.parse(t);for(let e=0;e<n.length;e++){const t=n[e];n[e]=new a(t.code,t.fullname,t.address,t.email,t.companyname,+t.totalinvoice,t.rank,t.type)}return n}("customerList"),J=function(t){const n=localStorage.getItem(t);if(!n)return[];const a=JSON.parse(n);for(let t=0;t<a.length;t++){const n=a[t];a[t]=new e(n.code,n.fullname,n.address,n.email,n.type)}return a}("listPersons");c(W),m(I),y(O),b(J),l("#btnAddStudent").addEventListener("click",(()=>{l("#CodeStudent").disabled=!1;l(".modal-footer-Student").innerHTML='\n    <button class="btn btn-secondary" data-dismiss="modal" id="cancle" >Cancle</button>\n    <button class="btn btn-success ml-2" >Created</button>\n    '})),l(".modal-footer-Student").addEventListener("click",(e=>{"Created"===e.target.innerHTML&&(E(),c(W),b(J)),"Update"===e.target.innerHTML&&(k(),c(W),b(J)),"Cancle"===e.target.innerHTML&&T()})),l("#tblStudentList").addEventListener("click",(e=>{"Delete"===e.target.innerHTML?(S(e.target.getAttribute("data-id")),c(W),b(J)):"Update"===e.target.innerHTML&&(l("#CodeStudent").disabled=!0,M(e.target.getAttribute("data-id")))})),l("#txtSearchStudent").addEventListener("keydown",(e=>{setTimeout((()=>{c(o(e.target.value,W))}),1e3)})),l("#studentSort").addEventListener("change",(e=>{1==e.target.value&&c(u(W)),2==e.target.value&&c(i(W))})),l("#btnAddEmployee").addEventListener("click",(()=>{l(".modal-footer-Employee").innerHTML='\n        <button class="btn btn-secondary" data-dismiss="modal" id="cancle" >Cancle</button>\n        <button class="btn btn-success ml-2" >Created</button>\n    ',l("#CodeEmployee").disabled=!1})),l(".modal-footer-Employee").addEventListener("click",(e=>{"Created"===e.target.innerHTML&&(w(),m(I),b(J)),"Update"===e.target.innerHTML&&(N(),m(I),b(J)),"Cancle"===e.target.innerHTML&&H()})),l("#tblEmployeeList").addEventListener("click",(e=>{"Delete"===e.target.innerHTML?($(e.target.getAttribute("data-id")),m(I),b(J)):"Update"===e.target.innerHTML&&(l("#CodeEmployee").disabled=!0,A(e.target.getAttribute("data-id")))})),l("#txtSearchEmployee").addEventListener("keydown",(e=>{setTimeout((()=>{m(o(e.target.value,I))}),1e3)})),l("#employeeSort").addEventListener("change",(e=>{1==e.target.value&&m(u(I)),2==e.target.value&&m(i(I))})),l("#btnAddCustomer").addEventListener("click",(()=>{l(".modal-footer-Customer").innerHTML='\n        <button class="btn btn-secondary" data-dismiss="modal" id="cancle" >Cancle</button>\n        <button class="btn btn-success ml-2" >Created</button>\n    ',l("#CodeCustomer").disabled=!1})),l(".modal-footer-Customer").addEventListener("click",(e=>{"Created"===e.target.innerHTML&&(P(),y(O),b(J)),"Update"===e.target.innerHTML&&(U(),y(O),b(J)),"Cancle"===e.target.innerHTML&&x()})),l("#tblCustomerList").addEventListener("click",(e=>{"Delete"===e.target.innerHTML?(F(e.target.getAttribute("data-id")),y(O),b(J)):"Update"===e.target.innerHTML&&(l("#CodeCustomer").disabled=!0,D(e.target.getAttribute("data-id")))})),l("#txtSearchCustomer").addEventListener("keydown",(e=>{setTimeout((()=>{y(o(e.target.value,O))}),1e3)})),l("#customerSort").addEventListener("change",(e=>{1==e.target.value&&y(u(O)),2==e.target.value&&y(i(O))})),l("#txtSearchListPerson").addEventListener("keydown",(e=>{setTimeout((()=>{b(o(e.target.value,J))}),1e3)})),l("#listPersonSort").addEventListener("change",(e=>{1==e.target.value&&b(u(J)),2==e.target.value&&b(i(J))}));
//# sourceMappingURL=index.ccc75de1.js.map
